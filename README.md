# MultiTaskKernel

## 概要
このプロジェクトは、大学の授業でm68kプロセッサにおいて簡易的なOSを作成するプロジェクトのリポジトリ
です。

## 注意点
git cloneする場合は正常なmon.oを外部からもってきて更新日時をmon.sより新しくする(touch mon.o)する必
要があります。しかしmake testする前にmon.oを新しくしてしまうとmon.sから生成されるファイル群が生成されないため、一旦make testしたあとに新しいmon.oに置換してtouch mon.oする必要があります。

## テーマ2の実装優先度
- test2.c: マルチタスク処理実験用システムメインプログラム・ユーザータスク関数群
        - 関数の起動(init_kernel(), set_task(), begin_sch())
        - task1(), task2(), ...: 引数を取らず値を返さない無限ループ

- mtk_c.c: C言語によるマルチタスクカーネルを構成する関数群
        - [x] (小紫)カーネルの初期化：init kernel();
        - [x] (執行)ユーザタスクの初期化と登録：set task();
        - [x] (小紫)ユーザタスク用のスタックの初期化: init stack();
        - [x] (執行)マルチタスク処理の開始：begin sch();
        - [x] (首藤・宗藤)タスクのキューの最後尾への TCB の追加：addq();
        - [x] (首藤・宗藤)タスクキューの先頭からの TCB の除去：removeq();
        - [x] (宮坂)タスクのスケジュール関数: sched();
        - [x] (宗藤)タスクを休眠状態にしてタスクスイッチをする: sleep();
        - [x] (宗藤)タスクを目覚めさせ実行可能状態にする: wakeup();
        - [x] (首藤)システムコール処理の本体：p body();
        - [x] (首藤)システムコール処理の本体：v body();

- mtk_asm.s: カーネルを構成するアセンブリルーチン
        - [x] (執行)first_task
        - [x] (小紫)swtch
        - [x] (宮坂)init_timer, hard_clock
        - [x] (首藤)pv_handler
        - [x] (宗藤)P, V
